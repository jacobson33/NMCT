@model NMCT.Models.Trail

@{
    ViewBag.Title = "Trail Details";
}

<h2>Trail Details</h2>

<div class="col-md-6">
    <h4>Details For: @Model.Name</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.Name)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Name)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.County)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.County)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Longitude)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Longitude)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Latitude)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Latitude)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Description)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Description)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.URL)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.URL)
        </dd>

    </dl>

    @if (User.IsInRole("Administrator") || User.IsInRole("Manager"))
    {
        <p>
            @Html.ActionLink("Edit", "Edit", new { id = Model.TrailID }) | @Html.ActionLink("Back to Trails", "Index")
        </p>
    }
    else
    {
        <p>
            @Html.ActionLink("Back to Trails", "Index")
        </p>
    }
</div>

<div class="col-md-6" id="map_canvas" style="height:400px"></div>

<script type="text/javascript" src="http://maps.google.com/maps/api/js?key=AIzaSyCuLNIGdQlLxGfis0U_TxXgjdaluJa8dxA&sensor=false"></script>
<script type="text/javascript">

    function initialize() {
        var lat = @Html.Raw(Json.Encode(Model.Latitude));
        var lon = @Html.Raw(Json.Encode(Model.Longitude));
        var name = '@Html.Raw(Json.Encode(Model.Name))';

        var mapOptions = {
            center: new google.maps.LatLng(lat, lon),
            zoom: 10,
            mapTypeId: google.maps.MapTypeId.ROADMAP
        };
        var map = new google.maps.Map(document.getElementById("map_canvas"), mapOptions);
        var latlng = new google.maps.LatLng(lat, lon);
        var marker = new google.maps.Marker({
            position: latlng,
            map: map,
            title: name
        });
    }

    window.onload = function(){
        initialize();
    }

</script>